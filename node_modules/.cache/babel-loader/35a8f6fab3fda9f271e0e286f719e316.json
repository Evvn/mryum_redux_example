{"ast":null,"code":"// eslint-disable-next-line\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { routerMiddleware } from 'connected-react-router';\nimport storage from 'redux-persist/lib/storage';\nimport { createBrowserHistory } from 'history';\nimport makeRootReducer from './rootReducer';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './integration/sagas/rootSaga.js';\nimport autoMergeLevel1 from 'redux-persist/es/stateReconciler/autoMergeLevel1';\nexport var history = createBrowserHistory();\nexport default (function () {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var sagaMiddleware = createSagaMiddleware();\n  var persistConfig = {\n    key: 'root',\n    storage: storage,\n    stateReconciler: autoMergeLevel1,\n    whitelist: ['menu.bffRes']\n  };\n  var middleware = [routerMiddleware(history), sagaMiddleware];\n  var enhancers = [];\n  var store = createStore(persistReducer(persistConfig, makeRootReducer(history)), initialState, // for dev\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    trace: true\n  }).apply(void 0, [applyMiddleware.apply(void 0, middleware)].concat(enhancers)) // for prod\n  // compose(applyMiddleware(...middleware), ...enhancers),\n  );\n  store.asyncReducers = {};\n  sagaMiddleware.run(rootSaga);\n  window.store = store;\n  var persistor = persistStore(store);\n  return {\n    store: store,\n    persistor: persistor\n  };\n});","map":{"version":3,"sources":["/Users/michaelfoster/Git/mryum/src/Store.js"],"names":["applyMiddleware","compose","createStore","persistStore","persistReducer","routerMiddleware","storage","createBrowserHistory","makeRootReducer","createSagaMiddleware","rootSaga","autoMergeLevel1","history","initialState","sagaMiddleware","persistConfig","key","stateReconciler","whitelist","middleware","enhancers","store","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","trace","asyncReducers","run","persistor"],"mappings":"AAAA;AACA,SAASA,eAAT,EAA0BC,OAA1B,EAAmCC,WAAnC,QAAsD,OAAtD;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,eAA7C;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,SAASC,oBAAT,QAAqC,SAArC;AACA,OAAOC,eAAP,MAA4B,eAA5B;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,eAAP,MAA4B,kDAA5B;AAEA,OAAO,IAAMC,OAAO,GAAGL,oBAAoB,EAApC;AAEP,gBAAe,YAAuB;AAAA,MAAtBM,YAAsB,uEAAP,EAAO;AAEpC,MAAMC,cAAc,GAAGL,oBAAoB,EAA3C;AACA,MAAMM,aAAa,GAAG;AACpBC,IAAAA,GAAG,EAAE,MADe;AAEpBV,IAAAA,OAAO,EAAPA,OAFoB;AAGpBW,IAAAA,eAAe,EAAEN,eAHG;AAIpBO,IAAAA,SAAS,EAAE,CAAC,aAAD;AAJS,GAAtB;AAOA,MAAMC,UAAU,GAAG,CACjBd,gBAAgB,CAACO,OAAD,CADC,EAEjBE,cAFiB,CAAnB;AAIA,MAAMM,SAAS,GAAG,EAAlB;AACA,MAAMC,KAAK,GAAGnB,WAAW,CACvBE,cAAc,CAACW,aAAD,EAAgBP,eAAe,CAACI,OAAD,CAA/B,CADS,EAEvBC,YAFuB,EAGvB;AACAS,EAAAA,MAAM,CAACC,oCAAP,CAA4C;AAC1CC,IAAAA,KAAK,EAAE;AADmC,GAA5C,iBAEGxB,eAAe,MAAf,SAAmBmB,UAAnB,CAFH,SAEsCC,SAFtC,EAJuB,CAOvB;AACA;AARuB,GAAzB;AAWAC,EAAAA,KAAK,CAACI,aAAN,GAAsB,EAAtB;AACAX,EAAAA,cAAc,CAACY,GAAf,CAAmBhB,QAAnB;AAEAY,EAAAA,MAAM,CAACD,KAAP,GAAeA,KAAf;AACA,MAAIM,SAAS,GAAGxB,YAAY,CAACkB,KAAD,CAA5B;AACA,SAAO;AAAEA,IAAAA,KAAK,EAALA,KAAF;AAASM,IAAAA,SAAS,EAATA;AAAT,GAAP;AACD,CAhCD","sourcesContent":["// eslint-disable-next-line\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist'\nimport { routerMiddleware } from 'connected-react-router';\nimport storage from 'redux-persist/lib/storage'\nimport { createBrowserHistory } from 'history'\nimport makeRootReducer from './rootReducer';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from './integration/sagas/rootSaga.js'\nimport autoMergeLevel1 from 'redux-persist/es/stateReconciler/autoMergeLevel1';\n\nexport const history = createBrowserHistory();\n\nexport default (initialState = {}) => {\n\n  const sagaMiddleware = createSagaMiddleware();\n  const persistConfig = {\n    key: 'root',\n    storage,\n    stateReconciler: autoMergeLevel1,\n    whitelist: ['menu.bffRes']\n  }\n\n  const middleware = [\n    routerMiddleware(history),\n    sagaMiddleware,\n  ];\n  const enhancers = [];\n  const store = createStore(\n    persistReducer(persistConfig, makeRootReducer(history)),\n    initialState,\n    // for dev\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      trace: true,\n    })(applyMiddleware(...middleware), ...enhancers),\n    // for prod\n    // compose(applyMiddleware(...middleware), ...enhancers),\n  );\n\n  store.asyncReducers = {};\n  sagaMiddleware.run(rootSaga)\n\n  window.store = store;\n  let persistor = persistStore(store)\n  return { store, persistor} ;\n};\n"]},"metadata":{},"sourceType":"module"}